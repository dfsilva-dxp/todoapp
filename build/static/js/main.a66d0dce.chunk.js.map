{"version":3,"sources":["services/firebase.ts","hooks/useCookies.ts","hooks/useAuth.tsx","components/Preloader/styles.ts","components/Preloader/index.tsx","pages/Home/styles.ts","pages/Home/index.tsx","components/Button/styles.ts","components/Button/index.tsx","components/Input/styles.ts","components/Input/index.tsx","components/Title/styles.ts","components/Title/index.tsx","components/SignInForm/styles.ts","components/SignInForm/index.tsx","components/SignOutForm/styles.ts","components/SignOutForm/index.tsx","routes/login.tsx","pages/Login/styles.ts","pages/Login/index.tsx","routes/private.tsx","routes/index.tsx","styles/global.ts","App.tsx","index.tsx"],"names":["firebase","initializeApp","apiKey","process","authDomain","projectId","storageBucket","messagingSenderId","appId","auth","languageCode","cookies","AuthContext","createContext","useAuth","useContext","AuthProvider","children","useState","user","setUser","loading","setLoading","parseCookies","refreshToken","setRefreshToken","set","useCallback","key","setCookie","undefined","maxAge","path","get","remove","destroyCookie","e","Error","useEffect","response","useCookies","history","useHistory","session","sendEmailVerification","a","currentUser","url","email","password","signInWithEmailAndPassword","then","uid","emailVerified","push","toast","error","message","theme","icon","setTimeout","createUserWithEmailAndPassword","finally","logout","success","signOut","onAuthStateChanged","Provider","value","signIn","Preloader","styled","h2","PreloaderContent","section","Home","handleLogout","type","onClick","Button","button","btnStyle","props","className","FormGroup","div","Icon","Input","input","Label","label","InputDefault","ref","id","htmlFor","forwardRef","Title","h1","title","data-title","Form","form","SignInForm","credentials","setCredentials","useRouteMatch","handleChange","target","name","handleSignIn","preventDefault","onSubmit","required","placeholder","onChange","to","SignOutForm","handleSignOut","LoginRoutes","exact","component","Main","main","Container","Content","Footer","footer","Login","PrivateRoutes","isPrivate","params","MyRoutes","GlobalStyles","createGlobalStyle","App","autoClose","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.a66d0dce.chunk.js","sourcesContent":["import firebase from \"firebase/app\";\nimport \"firebase/auth\";\n\nconst config = {\n  apiKey: process.env.REACT_APP_FIREBASE_APIKEY,\n  authDomain: process.env.REACT_APP_FIREBASE_AUTHDOMAIN,\n  projectId: process.env.REACT_APP_FIREBASE_PROJECTID,\n  storageBucket: process.env.REACT_APP_FIREBASE_STORAGEBUCKET,\n  messagingSenderId: process.env.REACT_APP_FIREBASE_MESSAGINGSENDERID,\n  appId: process.env.REACT_APP_FIREBASE_APPID,\n};\n\nfirebase.initializeApp(config);\nfirebase.auth().languageCode = \"pt-BR\";\n\nexport default firebase;\n","import { useCallback, useEffect, useState } from \"react\";\nimport { destroyCookie, parseCookies, setCookie } from \"nookies\";\n\ninterface Cookies {\n  set: (key: string, token: string) => void;\n  get: (key: string) => string;\n  remove: (key: string) => void;\n}\n\nconst cookies = {} as Cookies;\n\nexport function useCookies() {\n  const [refreshToken, setRefreshToken] = useState(() => {\n    const { \"todo.refreshToken\": refreshToken } = parseCookies();\n    return refreshToken;\n  });\n\n  try {\n    cookies.set = useCallback((key, refreshToken) => {\n      setCookie(undefined, key, refreshToken, {\n        maxAge: 3600, // 1 hours\n        path: \"/\",\n      });\n    }, []);\n\n    cookies.get = useCallback((key) => {\n      const { key: refreshToken } = parseCookies();\n      return refreshToken;\n    }, []);\n\n    cookies.remove = useCallback((key) => destroyCookie(undefined, key), []);\n  } catch (e) {\n    throw new Error(\"There is no refreshToken in cookies\");\n  }\n\n  useEffect(() => {\n    const { \"todo.refreshToken\": response } = parseCookies();\n    setRefreshToken(response);\n  }, []);\n\n  return { refreshToken, cookies };\n}\n","import {\n  createContext,\n  ReactNode,\n  useContext,\n  useEffect,\n  useState,\n} from \"react\";\nimport { toast } from \"react-toastify\";\nimport { useHistory } from \"react-router\";\n\nimport firebase from \"../services/firebase\";\nimport { useCookies } from \"./useCookies\";\n\ntype AuthProviderProps = {\n  children: ReactNode;\n};\n\ntype User = {\n  name?: string;\n  email: string | null;\n  uid: string;\n  refreshToken: string;\n  emailVerified: boolean;\n};\n\ntype AuthContextData = {\n  user: User;\n  loading: boolean;\n  signIn: ({ email, password }: Credentials) => Promise<void>;\n  signOut: ({ email, password }: Credentials) => Promise<void>;\n  logout: () => Promise<void>;\n  sendEmailVerification: () => Promise<void>;\n};\n\ntype Credentials = {\n  email: string;\n  password: string;\n};\n\nconst AuthContext = createContext({} as AuthContextData);\n\nexport const useAuth = () => {\n  return useContext(AuthContext);\n};\n\nexport const AuthProvider = ({ children }: AuthProviderProps) => {\n  const [user, setUser] = useState<User>({} as User);\n  const [loading, setLoading] = useState(false);\n  const { refreshToken, cookies } = useCookies();\n\n  const history = useHistory();\n\n  function session(refreshToken = \"\") {\n    if (refreshToken) {\n      cookies.set(\"todo.refreshToken\", refreshToken);\n    } else {\n      cookies.remove(\"todo.refreshToken\");\n    }\n  }\n\n  async function sendEmailVerification() {\n    var user = await firebase.auth().currentUser;\n    user?.sendEmailVerification({\n      url: \"http://localhost:3000/login\",\n    });\n  }\n\n  async function signIn({ email, password }: Credentials) {\n    try {\n      setLoading(true);\n\n      await firebase\n        .auth()\n        .signInWithEmailAndPassword(email, password)\n        .then(({ user }) => {\n          if (user) {\n            const { refreshToken, uid, emailVerified } = user;\n            session(refreshToken);\n            setUser({ email, refreshToken, uid, emailVerified });\n          }\n        });\n    } catch (err) {\n      history.push(\"/login\");\n      if (err instanceof Error) {\n        toast.error(err.message, {\n          theme: \"colored\",\n          icon: false,\n        });\n      }\n    } finally {\n      setTimeout(() => {\n        setLoading(false);\n      }, 1000);\n    }\n  }\n\n  async function signOut({ email, password }: Credentials) {\n    try {\n      setLoading(true);\n\n      await firebase\n        .auth()\n        .createUserWithEmailAndPassword(email, password)\n        .then(() => {\n          sendEmailVerification();\n        })\n        .finally(() => logout());\n\n      toast.success(\"Usuário criado com sucesso!\", {\n        theme: \"colored\",\n        icon: false,\n      });\n    } catch (err) {\n      if (err instanceof Error) {\n        toast.error(err.message, {\n          theme: \"colored\",\n          icon: false,\n        });\n      }\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  async function logout() {\n    return await firebase\n      .auth()\n      .signOut()\n      .then(() => {\n        setUser({} as User);\n        session();\n      })\n      .finally(() => history.push(\"/login\"));\n  }\n\n  useEffect(() => {\n    if (refreshToken) {\n      setLoading(true);\n      firebase.auth().onAuthStateChanged((user) => {\n        if (user) {\n          const { email, refreshToken, uid, emailVerified } = user;\n          setUser({ email, refreshToken, uid, emailVerified });\n        }\n        setLoading(false);\n      });\n    }\n  }, [refreshToken]);\n\n  return (\n    <AuthContext.Provider\n      value={{\n        user,\n        loading,\n        signIn,\n        signOut,\n        logout,\n        sendEmailVerification,\n      }}\n    >\n      {children}\n    </AuthContext.Provider>\n  );\n};\n","import styled from \"styled-components\";\n\nexport const Preloader = styled.h2`\n  animation: load 1.2s infinite 0s ease-in-out;\n  animation-direction: alternate;\n  text-shadow: 0 0 1px white;\n\n  @keyframes load {\n    0% {\n      opacity: 0.08;\n      font-size: 10px;\n      font-weight: 400;\n      filter: blur(5px);\n      letter-spacing: 3px;\n    }\n    100% {\n      opacity: 1;\n      font-size: 12px;\n      font-weight: 600;\n      filter: blur(0);\n    }\n  }\n`;\n","import * as S from \"./styles\";\n\nexport function Preloader() {\n  return <S.Preloader>Loading</S.Preloader>;\n}\n","import styled from \"styled-components\";\n\nexport const PreloaderContent = styled.section`\n  width: 100%;\n  height: 100vh;\n  display: grid;\n  place-items: center;\n`;\n","import { useCallback } from \"react\";\nimport { Preloader } from \"../../components/Preloader\";\n\nimport { useAuth } from \"../../hooks/useAuth\";\n\nimport * as S from \"./styles\";\n\nexport function Home() {\n  const { user, loading, logout } = useAuth();\n\n  const handleLogout = useCallback(() => {\n    logout();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return (\n    <>\n      {loading ? (\n        <S.PreloaderContent>\n          <Preloader />\n        </S.PreloaderContent>\n      ) : (\n        <>\n          <h1>{user.email}</h1>\n          <button type=\"button\" onClick={handleLogout}>\n            Logout\n          </button>\n        </>\n      )}\n    </>\n  );\n}\n","import styled from \"styled-components\";\n\nexport const Button = styled.button`\n  padding: 0.75rem 2.25rem;\n  vertical-align: middle;\n  user-select: none;\n  font-size: 0.875rem;\n  line-height: 1.5;\n  font-weight: 500;\n  text-transform: uppercase;\n  letter-spacing: 1px;\n\n  transition: background-color 0.15s ease-in-out, color 0.15s ease-in-out;\n\n  &.primary {\n    background-color: var(--purple-400);\n    border: 1px solid transparent;\n    color: var(--white);\n\n    &:not([disabled]):hover {\n      background-color: var(--purple-300);\n    }\n  }\n\n  &.secondary {\n    border: 1px solid var(--gray-150);\n    background-color: var(--white);\n\n    &:not([disabled]):hover {\n      background-color: var(--gray-50);\n    }\n  }\n`;\n","import { ButtonHTMLAttributes, ReactNode } from \"react\";\n\nimport * as S from \"./styles\";\n\ninterface ButtonProps extends ButtonHTMLAttributes<HTMLButtonElement> {\n  children: ReactNode;\n  btnStyle: \"primary\" | \"secondary\";\n}\n\nexport function Button({ children, btnStyle, ...props }: ButtonProps) {\n  return (\n    <>\n      <S.Button {...props} className={btnStyle}>\n        {children}\n      </S.Button>\n    </>\n  );\n}\n","import styled from \"styled-components\";\n\nexport const FormGroup = styled.div`\n  position: relative;\n`;\n\nexport const Icon = styled.div`\n  position: absolute;\n  width: 4rem;\n  height: 4rem;\n  font-size: 1.7rem;\n  display: grid;\n  place-items: center;\n  color: var(--gray-150);\n`;\n\nexport const Input = styled.input`\n  width: 100%;\n  height: 4rem;\n  padding: 0 4.5rem;\n  padding-top: 0.625rem;\n  border-style: none none solid;\n  border-color: var(--gray-150);\n  border-width: 1px;\n  outline: 0;\n  background-color: var(--white);\n  background-clip: padding-box;\n  font-size: 1rem;\n  line-height: 1.5;\n\n  transition: all 0.1s ease-out;\n\n  &:hover:not(:disabled):not([readonly]),\n  &:hover:not(:disabled):not([readonly]) {\n    border-color: var(--purple-400);\n  }\n`;\n\nexport const Label = styled.label`\n  position: absolute;\n  color: var(--gray-800);\n  font-weight: 600;\n  font-size: 0.9375rem;\n  padding-left: 4.5rem;\n  top: 0.25rem;\n`;\n","import {\n  forwardRef,\n  ForwardRefRenderFunction,\n  InputHTMLAttributes,\n} from \"react\";\n\nimport * as S from \"./styles\";\n\ninterface InputProps extends InputHTMLAttributes<HTMLInputElement> {\n  label: string;\n  id: string;\n  icon: JSX.Element;\n}\n\nconst InputDefault: ForwardRefRenderFunction<HTMLInputElement, InputProps> = (\n  { label, id, icon, ...props }: InputProps,\n  ref\n) => {\n  return (\n    <S.FormGroup>\n      <S.Label htmlFor={id}>{label}</S.Label>\n      <S.Icon>{icon}</S.Icon>\n      <S.Input id={id} {...props} ref={ref} />\n    </S.FormGroup>\n  );\n};\n\nexport const Input = forwardRef(InputDefault);\n","import styled from \"styled-components\";\n\nexport const Title = styled.h1`\n  font-size: 2.5rem;\n  position: relative;\n\n  &::before {\n    content: attr(data-title);\n  }\n`;\n","import * as S from \"./styles\";\n\ntype TitleProps = {\n  title: string;\n};\n\nexport function Title({ title }: TitleProps) {\n  return <S.Title data-title={title} />;\n}\n","import styled from \"styled-components\";\n\nexport const Form = styled.form`\n  width: 100%;\n  height: auto;\n  display: grid;\n  gap: 1rem;\n\n  p {\n    text-align: right;\n    font-size: 0.75rem;\n    a {\n      font-weight: 500;\n      margin-left: 0.5rem;\n\n      &:hover {\n        color: var(--purple-400);\n      }\n    }\n  }\n`;\n","import { ChangeEvent, FormEvent, useCallback, useState } from \"react\";\nimport { TiLockClosedOutline, TiMail } from \"react-icons/ti\";\nimport { Link, useHistory, useRouteMatch } from \"react-router-dom\";\n\nimport { useAuth } from \"../../hooks/useAuth\";\n\nimport { Button } from \"../Button\";\nimport { Input } from \"../Input\";\nimport { Title } from \"../Title\";\n\nimport * as S from \"./styles\";\n\ntype Credentials = {\n  email: string;\n  password: string;\n};\n\nexport function SignInForm() {\n  const [credentials, setCredentials] = useState<Credentials>({\n    email: \"\",\n    password: \"\",\n  });\n  const { signIn } = useAuth();\n\n  const history = useHistory();\n  const { url } = useRouteMatch();\n\n  const handleChange = (e: ChangeEvent<HTMLInputElement>) => {\n    const { name, value } = e.target;\n    setCredentials({\n      ...credentials,\n      [name]: value,\n    });\n  };\n\n  const handleSignIn = useCallback(\n    (e: FormEvent) => {\n      e.preventDefault();\n\n      signIn(credentials);\n      history.push(\"/\");\n\n      setCredentials({\n        email: \"\",\n        password: \"\",\n      });\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [credentials]\n  );\n\n  return (\n    <S.Form onSubmit={handleSignIn}>\n      <Title title=\"Login\" />\n      <Input\n        type=\"email\"\n        name=\"email\"\n        label=\"Seu e-mail\"\n        id=\"email\"\n        value={credentials.email}\n        required\n        placeholder=\"johndoe@email.com\"\n        icon={<TiMail />}\n        onChange={handleChange}\n      />\n      <Input\n        type=\"password\"\n        name=\"password\"\n        label=\"Senha\"\n        id=\"password\"\n        value={credentials.password}\n        required\n        placeholder=\"Sua senha\"\n        icon={<TiLockClosedOutline />}\n        onChange={handleChange}\n      />\n      <p>\n        Esqueceu a senha?\n        <Link to={`${url}/esqueci-a-senha`}>Clique aqui</Link>\n      </p>\n      <Button type=\"submit\" btnStyle=\"primary\">\n        Entrar\n      </Button>\n      <p>\n        Não tem uma conta?\n        <Link to={`${url}/cadastrar`}>Cadastre-se</Link>\n      </p>\n    </S.Form>\n  );\n}\n","import styled from \"styled-components\";\n\nexport const Form = styled.form`\n  width: 100%;\n  height: auto;\n  display: grid;\n  gap: 1rem;\n\n  p {\n    text-align: right;\n    font-size: 0.75rem;\n    a {\n      font-weight: 500;\n      margin-left: 0.5rem;\n\n      &:hover {\n        color: var(--purple-400);\n      }\n    }\n  }\n`;\n","import { ChangeEvent, FormEvent, useCallback, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { TiLockClosedOutline, TiMail } from \"react-icons/ti\";\n\nimport { useAuth } from \"../../hooks/useAuth\";\n\nimport { Button } from \"../Button\";\nimport { Input } from \"../Input\";\nimport { Title } from \"../Title\";\n\nimport * as S from \"./styles\";\n\ntype Credentials = {\n  email: string;\n  password: string;\n};\n\nexport function SignOutForm() {\n  const [credentials, setCredentials] = useState<Credentials>({\n    email: \"\",\n    password: \"\",\n  });\n  const { signOut } = useAuth();\n\n  const handleChange = (e: ChangeEvent<HTMLInputElement>) => {\n    const { name, value } = e.target;\n    setCredentials({\n      ...credentials,\n      [name]: value,\n    });\n  };\n\n  const handleSignOut = useCallback(\n    async (e: FormEvent) => {\n      e.preventDefault();\n\n      await signOut(credentials).then(() => {\n        setCredentials({\n          email: \"\",\n          password: \"\",\n        });\n      });\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [credentials]\n  );\n\n  return (\n    <S.Form onSubmit={handleSignOut}>\n      <Title title=\"Cadastre-se\" />\n      <Input\n        type=\"email\"\n        name=\"email\"\n        label=\"Seu e-mail\"\n        id=\"email\"\n        value={credentials.email}\n        required\n        placeholder=\"johndoe@email.com\"\n        icon={<TiMail />}\n        onChange={handleChange}\n      />\n      <Input\n        type=\"password\"\n        name=\"password\"\n        label=\"Senha\"\n        id=\"password\"\n        value={credentials.password}\n        required\n        placeholder=\"Sua senha\"\n        icon={<TiLockClosedOutline />}\n        onChange={handleChange}\n      />\n      <Button type=\"submit\" btnStyle=\"primary\">\n        Cadastrar\n      </Button>\n      <p>\n        Já tem uma conta?\n        <Link to=\"/login\">Faça login</Link>\n      </p>\n    </S.Form>\n  );\n}\n","import { Route, Switch, useRouteMatch } from \"react-router-dom\";\n\nimport { SignInForm } from \"../components/SignInForm\";\nimport { SignOutForm } from \"../components/SignOutForm\";\n\nexport const LoginRoutes = () => {\n  const { path } = useRouteMatch();\n\n  return (\n    <Switch>\n      <Route exact path={path} component={SignInForm} />\n      <Route path={`${path}/cadastrar`} component={SignOutForm} />\n      <Route\n        path={`${path}/esqueci-a-senha`}\n        component={() => <p>Esqueci minha senha</p>}\n      />\n    </Switch>\n  );\n};\n","import styled from \"styled-components\";\n\nexport const Main = styled.main`\n  width: 100%;\n  height: 100vh;\n  display: grid;\n  grid-template-rows: auto 5rem;\n`;\n\nexport const Container = styled.section`\n  width: 100%;\n  margin: 0 auto;\n  padding: 0 1rem;\n  display: grid;\n  place-items: center;\n\n  @media (min-width: 576px) {\n    & {\n      max-width: 540px;\n    }\n  }\n  @media (min-width: 768px) {\n    & {\n      max-width: 720px;\n    }\n  }\n  @media (min-width: 992px) {\n    & {\n      max-width: 960px;\n    }\n  }\n  @media (min-width: 1200px) {\n    & {\n      max-width: 1140px;\n    }\n  }\n`;\n\nexport const Content = styled.div`\n  width: min(470px, 100%);\n`;\n\nexport const Footer = styled.footer`\n  background-color: var(--purple-400);\n  display: grid;\n  place-items: center;\n\n  p {\n    font-size: 0.875rem;\n    font-weight: bold;\n    color: var(--white);\n  }\n`;\n","import { LoginRoutes } from \"../../routes/login\";\n\nimport * as S from \"./styles\";\n\nexport const Login = () => {\n  return (\n    <S.Main>\n      <S.Container>\n        <S.Content>\n          <LoginRoutes />\n        </S.Content>\n      </S.Container>\n      <S.Footer>\n        <p>&copy; 2021 &bull; Alguns direitos reservados</p>\n      </S.Footer>\n    </S.Main>\n  );\n};\n","import { parseCookies } from \"nookies\";\nimport { Redirect, Route, RouteProps } from \"react-router\";\n\nimport { useAuth } from \"../hooks/useAuth\";\n\ninterface PrivateRoutesProps extends RouteProps {\n  isPrivate?: boolean;\n}\n\nexport function PrivateRoutes({ isPrivate, ...params }: PrivateRoutesProps) {\n  const { loading } = useAuth();\n  const { \"todo.refreshToken\": refreshToken } = parseCookies();\n\n  if (!loading && !!!refreshToken) {\n    return <Redirect to=\"/login\" />;\n  }\n\n  return <Route {...params} />;\n}\n","import { Route, Switch } from \"react-router\";\n\nimport { AuthProvider } from \"../hooks/useAuth\";\n\nimport { Home } from \"../pages/Home\";\nimport { Login } from \"../pages/Login\";\nimport { PrivateRoutes } from \"./private\";\n\nconst MyRoutes = () => {\n  return (\n    <AuthProvider>\n      <Switch>\n        <PrivateRoutes path=\"/\" exact component={Home} />\n        <Route path=\"/login\" component={Login} />\n      </Switch>\n    </AuthProvider>\n  );\n};\n\nexport default MyRoutes;\n","import { createGlobalStyle } from \"styled-components\";\nimport \"react-toastify/dist/ReactToastify.css\";\n\nexport const GlobalStyles = createGlobalStyle`\n:root {\n  --white: #fff;\n  --gray-50: #f7f8fa;\n  --gray-100: #e6e8eb;\n  --gray-150: #ced4da;\n  --gray-200: #afb2b1;\n  --gray-500: #808080;\n  --gray-800: #494d4b;\n\n  --green-500: #88F9D4;\n\n  --red-500: #e5001b;\n\n  --yellow-500: #ffbb11;\n\n  --purple-300: #9f75ff;\n  --purple-400: #9164fa;\n  --purple-500: #8257e5;\n  --purple-800: #6f48c9;\n}\n\n* {\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-rendering: optimizeLegibility;\n  vertical-align: baseline;\n}\nhtml {\n  @media (max-width: 1080px) {\n    font-size: 93.75%;\n  }\n  @media (max-width: 768px) {\n    font-size: 87.5%;\n  }\n}\nbody {\n  background: var(--gray-50);\n  font-family: \"Poppins\", sans-serif;\n  color: var(--gray-800);\n  line-height: 1.5;\n  font-weight: 400;\n  overflow: hidden;\n}\ninput, \ntextarea, \nbutton,\nlabel {\n  font: 400 0.9375rem/0.9375rem \"Barlow Condensed\", sans-serif;\n  outline: 0;\n  color: var(--gray-500);\n}\nh1,\nh2,\nh3,\nh4,\nh5,\nh6 {\n  font-family: \"Barlow Condensed\", sans-serif;\n}\nol,\nul {\n  list-style: none;\n}\nspan {\n  display: inline-block;\n}\na {\n  text-decoration: none;\n  color: inherit;\n}\nbutton { \n  cursor: pointer;\n}\n[disabled] {\n  opacity: 0.6;\n  cursor: not-allowed;\n}\n\n.Toastify__toast-theme--colored.Toastify__toast--success {\n  background: var(--green-500) !important;\n  color: var(--gray-800) !important;\n}\n.Toastify__toast-theme--colored.Toastify__toast--error {\n  background: var(--red-500) !important;\n}\n\n::-webkit-scrollbar {\n  width: 7px !important;\n}\n::-webkit-scrollbar-track {\n  background: var(--gray-100) !important;\n}\n::-webkit-scrollbar-thumb {\n  background: var(--purple-400) !important;\n}\n::-webkit-scrollbar-thumb:hover {\n  background: var(--purple-500) !important;\n}\n`;\n","import { BrowserRouter } from \"react-router-dom\";\nimport { ToastContainer } from \"react-toastify\";\n\nimport MyRoutes from \"./routes\";\n\nimport { GlobalStyles } from \"./styles/global\";\n\nfunction App() {\n  return (\n    <BrowserRouter>\n      <GlobalStyles />\n      <MyRoutes />\n      <ToastContainer autoClose={3000} />\n    </BrowserRouter>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}