(this.webpackJsonptodoapp=this.webpackJsonptodoapp||[]).push([[0],{54:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),i=t(26),o=t.n(i),c=t(15),s=t(22),l=t(3),d=t(13),u=t.n(d),b=t(17),p=t(14),h=t(27);t(42);h.a.initializeApp({apiKey:"AIzaSyCqzwTV7n2KicbyMPUv76rfXWNmSl2EqjM",authDomain:"todolist-app-67530.firebaseapp.com",projectId:"todolist-app-67530",storageBucket:"todolist-app-67530.appspot.com",messagingSenderId:"108131760409",appId:"1:108131760409:web:e91019081f4977f38f2d88"}),h.a.auth().languageCode="pt-BR";var j=h.a,f=t(16),m={};var g,O,x=t(1),v=Object(r.createContext)({}),w=function(){return Object(r.useContext)(v)},y=function(e){var n=e.children,t=Object(r.useState)({}),a=Object(p.a)(t,2),i=a[0],o=a[1],c=Object(r.useState)(!1),d=Object(p.a)(c,2),h=d[0],g=d[1],O=function(){var e=Object(r.useState)((function(){return Object(f.parseCookies)()["todo.refreshToken"]})),n=Object(p.a)(e,2),t=n[0],a=n[1];try{m.set=Object(r.useCallback)((function(e,n){Object(f.setCookie)(void 0,e,n,{maxAge:3600,path:"/"})}),[]),m.get=Object(r.useCallback)((function(e){return Object(f.parseCookies)().key}),[]),m.remove=Object(r.useCallback)((function(e){return Object(f.destroyCookie)(void 0,e)}),[])}catch(i){throw new Error("There is no refreshToken in cookies")}return Object(r.useEffect)((function(){var e=Object(f.parseCookies)()["todo.refreshToken"];a(e)}),[]),{refreshToken:t,cookies:m}}(),w=O.refreshToken,y=O.cookies,k=Object(l.g)();function C(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";e?y.set("todo.refreshToken",e):y.remove("todo.refreshToken")}function S(){return T.apply(this,arguments)}function T(){return(T=Object(b.a)(u.a.mark((function e(){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.auth().currentUser;case 2:null===(n=e.sent)||void 0===n||n.sendEmailVerification({url:"http://localhost:3000/login"});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function z(){return(z=Object(b.a)(u.a.mark((function e(n){var t,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.email,r=n.password,e.prev=1,g(!0),e.next=5,j.auth().signInWithEmailAndPassword(t,r).then((function(e){var n=e.user;if(n){var r=n.refreshToken,a=n.uid,i=n.emailVerified;C(r),o({email:t,refreshToken:r,uid:a,emailVerified:i})}}));case 5:e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),k.push("/login"),e.t0 instanceof Error&&s.b.error(e.t0.message,{theme:"colored",icon:!1});case 11:return e.prev=11,setTimeout((function(){g(!1)}),1e3),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,7,11,14]])})))).apply(this,arguments)}function E(){return(E=Object(b.a)(u.a.mark((function e(n){var t,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.email,r=n.password,e.prev=1,g(!0),e.next=5,j.auth().createUserWithEmailAndPassword(t,r).then((function(){S()})).finally((function(){return q()}));case 5:s.b.success("Usu\xe1rio criado com sucesso!",{theme:"colored",icon:!1}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),e.t0 instanceof Error&&s.b.error(e.t0.message,{theme:"colored",icon:!1});case 11:return e.prev=11,g(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,8,11,14]])})))).apply(this,arguments)}function q(){return I.apply(this,arguments)}function I(){return(I=Object(b.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.auth().signOut().then((function(){o({}),C()})).finally((function(){return k.push("/login")}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(r.useEffect)((function(){w&&(g(!0),j.auth().onAuthStateChanged((function(e){if(e){var n=e.email,t=e.refreshToken,r=e.uid,a=e.emailVerified;o({email:n,refreshToken:t,uid:r,emailVerified:a})}g(!1)})))}),[w]),Object(x.jsx)(v.Provider,{value:{user:i,loading:h,signIn:function(e){return z.apply(this,arguments)},signOut:function(e){return E.apply(this,arguments)},logout:q,sendEmailVerification:S},children:n})},k=t(4),C=t(5),S=C.b.h2(g||(g=Object(k.a)(["\n  animation: load 1.2s infinite 0s ease-in-out;\n  animation-direction: alternate;\n  text-shadow: 0 0 1px white;\n\n  @keyframes load {\n    0% {\n      opacity: 0.08;\n      font-size: 10px;\n      font-weight: 400;\n      filter: blur(5px);\n      letter-spacing: 3px;\n    }\n    100% {\n      opacity: 1;\n      font-size: 12px;\n      font-weight: 600;\n      filter: blur(0);\n    }\n  }\n"])));function T(){return Object(x.jsx)(S,{children:"Loading"})}var z=C.b.section(O||(O=Object(k.a)(["\n  width: 100%;\n  height: 100vh;\n  display: grid;\n  place-items: center;\n"])));function E(){var e=w(),n=e.user,t=e.loading,a=e.logout,i=Object(r.useCallback)((function(){a()}),[]);return Object(x.jsx)(x.Fragment,{children:t?Object(x.jsx)(z,{children:Object(x.jsx)(T,{})}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("h1",{children:n.email}),Object(x.jsx)("button",{type:"button",onClick:i,children:"Logout"})]})})}var q,I,_,A,P,V=t(19),F=t(8),B=t(21),D=t(20),L=C.b.button(q||(q=Object(k.a)(["\n  padding: 0.75rem 2.25rem;\n  vertical-align: middle;\n  user-select: none;\n  font-size: 0.875rem;\n  line-height: 1.5;\n  font-weight: 500;\n  text-transform: uppercase;\n  letter-spacing: 1px;\n\n  transition: background-color 0.15s ease-in-out, color 0.15s ease-in-out;\n\n  &.primary {\n    background-color: var(--purple-400);\n    border: 1px solid transparent;\n    color: var(--white);\n\n    &:not([disabled]):hover {\n      background-color: var(--purple-300);\n    }\n  }\n\n  &.secondary {\n    border: 1px solid var(--gray-150);\n    background-color: var(--white);\n\n    &:not([disabled]):hover {\n      background-color: var(--gray-50);\n    }\n  }\n"])));function U(e){var n=e.children,t=e.btnStyle,r=Object(D.a)(e,["children","btnStyle"]);return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(L,Object(F.a)(Object(F.a)({},r),{},{className:t,children:n}))})}var J,M,N=C.b.div(I||(I=Object(k.a)(["\n  position: relative;\n"]))),W=C.b.div(_||(_=Object(k.a)(["\n  position: absolute;\n  width: 4rem;\n  height: 4rem;\n  font-size: 1.7rem;\n  display: grid;\n  place-items: center;\n  color: var(--gray-150);\n"]))),K=C.b.input(A||(A=Object(k.a)(["\n  width: 100%;\n  height: 4rem;\n  padding: 0 4.5rem;\n  padding-top: 0.625rem;\n  border-style: none none solid;\n  border-color: var(--gray-150);\n  border-width: 1px;\n  outline: 0;\n  background-color: var(--white);\n  background-clip: padding-box;\n  font-size: 1rem;\n  line-height: 1.5;\n\n  transition: all 0.1s ease-out;\n\n  &:hover:not(:disabled):not([readonly]),\n  &:hover:not(:disabled):not([readonly]) {\n    border-color: var(--purple-400);\n  }\n"]))),R=C.b.label(P||(P=Object(k.a)(["\n  position: absolute;\n  color: var(--gray-800);\n  font-weight: 600;\n  font-size: 0.9375rem;\n  padding-left: 4.5rem;\n  top: 0.25rem;\n"]))),X=function(e,n){var t=e.label,r=e.id,a=e.icon,i=Object(D.a)(e,["label","id","icon"]);return Object(x.jsxs)(N,{children:[Object(x.jsx)(R,{htmlFor:r,children:t}),Object(x.jsx)(W,{children:a}),Object(x.jsx)(K,Object(F.a)(Object(F.a)({id:r},i),{},{ref:n}))]})},G=Object(r.forwardRef)(X),H=C.b.h1(J||(J=Object(k.a)(["\n  font-size: 2.5rem;\n  position: relative;\n\n  &::before {\n    content: attr(data-title);\n  }\n"])));function Q(e){var n=e.title;return Object(x.jsx)(H,{"data-title":n})}var Y,Z=C.b.form(M||(M=Object(k.a)(["\n  width: 100%;\n  height: auto;\n  display: grid;\n  gap: 1rem;\n\n  p {\n    text-align: right;\n    font-size: 0.75rem;\n    a {\n      font-weight: 500;\n      margin-left: 0.5rem;\n\n      &:hover {\n        color: var(--purple-400);\n      }\n    }\n  }\n"])));function $(){var e=Object(r.useState)({email:"",password:""}),n=Object(p.a)(e,2),t=n[0],a=n[1],i=w().signIn,o=Object(l.g)(),s=Object(l.h)().url,d=function(e){var n=e.target,r=n.name,i=n.value;a(Object(F.a)(Object(F.a)({},t),{},Object(V.a)({},r,i)))},u=Object(r.useCallback)((function(e){e.preventDefault(),i(t),o.push("/"),a({email:"",password:""})}),[t]);return Object(x.jsxs)(Z,{onSubmit:u,children:[Object(x.jsx)(Q,{title:"Login"}),Object(x.jsx)(G,{type:"email",name:"email",label:"Seu e-mail",id:"email",value:t.email,required:!0,placeholder:"johndoe@email.com",icon:Object(x.jsx)(B.b,{}),onChange:d}),Object(x.jsx)(G,{type:"password",name:"password",label:"Senha",id:"password",value:t.password,required:!0,placeholder:"Sua senha",icon:Object(x.jsx)(B.a,{}),onChange:d}),Object(x.jsxs)("p",{children:["Esqueceu a senha?",Object(x.jsx)(c.b,{to:"".concat(s,"/esqueci-a-senha"),children:"Clique aqui"})]}),Object(x.jsx)(U,{type:"submit",btnStyle:"primary",children:"Entrar"}),Object(x.jsxs)("p",{children:["N\xe3o tem uma conta?",Object(x.jsx)(c.b,{to:"".concat(s,"/cadastrar"),children:"Cadastre-se"})]})]})}var ee=C.b.form(Y||(Y=Object(k.a)(["\n  width: 100%;\n  height: auto;\n  display: grid;\n  gap: 1rem;\n\n  p {\n    text-align: right;\n    font-size: 0.75rem;\n    a {\n      font-weight: 500;\n      margin-left: 0.5rem;\n\n      &:hover {\n        color: var(--purple-400);\n      }\n    }\n  }\n"])));function ne(){var e=Object(r.useState)({email:"",password:""}),n=Object(p.a)(e,2),t=n[0],a=n[1],i=w().signOut,o=function(e){var n=e.target,r=n.name,i=n.value;a(Object(F.a)(Object(F.a)({},t),{},Object(V.a)({},r,i)))},s=Object(r.useCallback)(function(){var e=Object(b.a)(u.a.mark((function e(n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,i(t).then((function(){a({email:"",password:""})}));case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),[t]);return Object(x.jsxs)(ee,{onSubmit:s,children:[Object(x.jsx)(Q,{title:"Cadastre-se"}),Object(x.jsx)(G,{type:"email",name:"email",label:"Seu e-mail",id:"email",value:t.email,required:!0,placeholder:"johndoe@email.com",icon:Object(x.jsx)(B.b,{}),onChange:o}),Object(x.jsx)(G,{type:"password",name:"password",label:"Senha",id:"password",value:t.password,required:!0,placeholder:"Sua senha",icon:Object(x.jsx)(B.a,{}),onChange:o}),Object(x.jsx)(U,{type:"submit",btnStyle:"primary",children:"Cadastrar"}),Object(x.jsxs)("p",{children:["J\xe1 tem uma conta?",Object(x.jsx)(c.b,{to:"/login",children:"Fa\xe7a login"})]})]})}var te,re,ae,ie,oe=function(){var e=Object(l.h)().path;return Object(x.jsxs)(l.d,{children:[Object(x.jsx)(l.b,{exact:!0,path:e,component:$}),Object(x.jsx)(l.b,{path:"".concat(e,"/cadastrar"),component:ne}),Object(x.jsx)(l.b,{path:"".concat(e,"/esqueci-a-senha"),component:function(){return Object(x.jsx)("p",{children:"Esqueci minha senha"})}})]})},ce=C.b.main(te||(te=Object(k.a)(["\n  width: 100%;\n  height: 100vh;\n  display: grid;\n  grid-template-rows: auto 5rem;\n"]))),se=C.b.section(re||(re=Object(k.a)(["\n  width: 100%;\n  margin: 0 auto;\n  padding: 0 1rem;\n  display: grid;\n  place-items: center;\n\n  @media (min-width: 576px) {\n    & {\n      max-width: 540px;\n    }\n  }\n  @media (min-width: 768px) {\n    & {\n      max-width: 720px;\n    }\n  }\n  @media (min-width: 992px) {\n    & {\n      max-width: 960px;\n    }\n  }\n  @media (min-width: 1200px) {\n    & {\n      max-width: 1140px;\n    }\n  }\n"]))),le=C.b.div(ae||(ae=Object(k.a)(["\n  width: min(470px, 100%);\n"]))),de=C.b.footer(ie||(ie=Object(k.a)(["\n  background-color: var(--purple-400);\n  display: grid;\n  place-items: center;\n\n  p {\n    font-size: 0.875rem;\n    font-weight: bold;\n    color: var(--white);\n  }\n"]))),ue=function(){return Object(x.jsxs)(ce,{children:[Object(x.jsx)(se,{children:Object(x.jsx)(le,{children:Object(x.jsx)(oe,{})})}),Object(x.jsx)(de,{children:Object(x.jsx)("p",{children:"\xa9 2021 \u2022 Alguns direitos reservados"})})]})};function be(e){e.isPrivate;var n=Object(D.a)(e,["isPrivate"]),t=w().loading,r=Object(f.parseCookies)()["todo.refreshToken"];return t||r?Object(x.jsx)(l.b,Object(F.a)({},n)):Object(x.jsx)(l.a,{to:"/login"})}var pe,he=function(){return Object(x.jsx)(y,{children:Object(x.jsxs)(l.d,{children:[Object(x.jsx)(be,{path:"/",exact:!0,component:E}),Object(x.jsx)(l.b,{path:"/login",component:ue})]})})},je=(t(53),Object(C.a)(pe||(pe=Object(k.a)(['\n:root {\n  --white: #fff;\n  --gray-50: #f7f8fa;\n  --gray-100: #e6e8eb;\n  --gray-150: #ced4da;\n  --gray-200: #afb2b1;\n  --gray-500: #808080;\n  --gray-800: #494d4b;\n\n  --green-500: #88F9D4;\n\n  --red-500: #e5001b;\n\n  --yellow-500: #ffbb11;\n\n  --purple-300: #9f75ff;\n  --purple-400: #9164fa;\n  --purple-500: #8257e5;\n  --purple-800: #6f48c9;\n}\n\n* {\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-rendering: optimizeLegibility;\n  vertical-align: baseline;\n}\nhtml {\n  @media (max-width: 1080px) {\n    font-size: 93.75%;\n  }\n  @media (max-width: 768px) {\n    font-size: 87.5%;\n  }\n}\nbody {\n  background: var(--gray-50);\n  font-family: "Poppins", sans-serif;\n  color: var(--gray-800);\n  line-height: 1.5;\n  font-weight: 400;\n  overflow: hidden;\n}\ninput, \ntextarea, \nbutton,\nlabel {\n  font: 400 0.9375rem/0.9375rem "Barlow Condensed", sans-serif;\n  outline: 0;\n  color: var(--gray-500);\n}\nh1,\nh2,\nh3,\nh4,\nh5,\nh6 {\n  font-family: "Barlow Condensed", sans-serif;\n}\nol,\nul {\n  list-style: none;\n}\nspan {\n  display: inline-block;\n}\na {\n  text-decoration: none;\n  color: inherit;\n}\nbutton { \n  cursor: pointer;\n}\n[disabled] {\n  opacity: 0.6;\n  cursor: not-allowed;\n}\n\n.Toastify__toast-theme--colored.Toastify__toast--success {\n  background: var(--green-500) !important;\n  color: var(--gray-800) !important;\n}\n.Toastify__toast-theme--colored.Toastify__toast--error {\n  background: var(--red-500) !important;\n}\n\n::-webkit-scrollbar {\n  width: 7px !important;\n}\n::-webkit-scrollbar-track {\n  background: var(--gray-100) !important;\n}\n::-webkit-scrollbar-thumb {\n  background: var(--purple-400) !important;\n}\n::-webkit-scrollbar-thumb:hover {\n  background: var(--purple-500) !important;\n}\n']))));var fe=function(){return Object(x.jsxs)(c.a,{children:[Object(x.jsx)(je,{}),Object(x.jsx)(he,{}),Object(x.jsx)(s.a,{autoClose:3e3})]})};o.a.render(Object(x.jsx)(a.a.StrictMode,{children:Object(x.jsx)(fe,{})}),document.getElementById("root"))}},[[54,1,2]]]);
//# sourceMappingURL=main.a66d0dce.chunk.js.map